{"ast":null,"code":"import Web3 from 'web3';\nimport { CONTRACT_ABI, CONTRACT_ADDRESS } from '../contracts';\nlet web3;\nlet contract;\nexport const initWeb3 = async () => {\n  if (window.ethereum) {\n    web3 = new Web3(window.ethereum);\n    await window.ethereum.request({\n      method: \"eth_requestAccounts\"\n    });\n  } else if (window.web3) {\n    web3 = new Web3(window.web3.currentProvider);\n  } else {\n    web3 = new Web3(new Web3.providers.HttpProvider('http://localhost:7545'));\n  }\n  contract = new web3.eth.Contract(CONTRACT_ABI, CONTRACT_ADDRESS);\n  return {\n    web3,\n    contract\n  };\n};\nexport const getAccounts = async () => {\n  if (!web3) await initWeb3();\n  return await web3.eth.getAccounts();\n};\nexport const getContract = async () => {\n  if (!contract) await initWeb3();\n  return contract;\n};","map":{"version":3,"names":["Web3","CONTRACT_ABI","CONTRACT_ADDRESS","web3","contract","initWeb3","window","ethereum","request","method","currentProvider","providers","HttpProvider","eth","Contract","getAccounts","getContract"],"sources":["C:/Users/HP/OneDrive/Desktop/SIH PROJECT/frontend/src/utils/blockchain.js"],"sourcesContent":["import Web3 from 'web3';\r\nimport { CONTRACT_ABI, CONTRACT_ADDRESS } from '../contracts';\r\n\r\nlet web3;\r\nlet contract;\r\n\r\nexport const initWeb3 = async () => {\r\n  if(window.ethereum) {\r\n    web3 = new Web3(window.ethereum);\r\n    await window.ethereum.request({ method: \"eth_requestAccounts\" });\r\n  } else if(window.web3) {\r\n    web3 = new Web3(window.web3.currentProvider);\r\n  } else {\r\n    web3 = new Web3(new Web3.providers.HttpProvider('http://localhost:7545'));\r\n  }\r\n  contract = new web3.eth.Contract(CONTRACT_ABI, CONTRACT_ADDRESS);\r\n  return { web3, contract };\r\n};\r\n\r\nexport const getAccounts = async () => {\r\n  if(!web3) await initWeb3();\r\n  return await web3.eth.getAccounts();\r\n};\r\n\r\nexport const getContract = async () => {\r\n  if(!contract) await initWeb3();\r\n  return contract;\r\n};\r\n"],"mappings":"AAAA,OAAOA,IAAI,MAAM,MAAM;AACvB,SAASC,YAAY,EAAEC,gBAAgB,QAAQ,cAAc;AAE7D,IAAIC,IAAI;AACR,IAAIC,QAAQ;AAEZ,OAAO,MAAMC,QAAQ,GAAG,MAAAA,CAAA,KAAY;EAClC,IAAGC,MAAM,CAACC,QAAQ,EAAE;IAClBJ,IAAI,GAAG,IAAIH,IAAI,CAACM,MAAM,CAACC,QAAQ,CAAC;IAChC,MAAMD,MAAM,CAACC,QAAQ,CAACC,OAAO,CAAC;MAAEC,MAAM,EAAE;IAAsB,CAAC,CAAC;EAClE,CAAC,MAAM,IAAGH,MAAM,CAACH,IAAI,EAAE;IACrBA,IAAI,GAAG,IAAIH,IAAI,CAACM,MAAM,CAACH,IAAI,CAACO,eAAe,CAAC;EAC9C,CAAC,MAAM;IACLP,IAAI,GAAG,IAAIH,IAAI,CAAC,IAAIA,IAAI,CAACW,SAAS,CAACC,YAAY,CAAC,uBAAuB,CAAC,CAAC;EAC3E;EACAR,QAAQ,GAAG,IAAID,IAAI,CAACU,GAAG,CAACC,QAAQ,CAACb,YAAY,EAAEC,gBAAgB,CAAC;EAChE,OAAO;IAAEC,IAAI;IAAEC;EAAS,CAAC;AAC3B,CAAC;AAED,OAAO,MAAMW,WAAW,GAAG,MAAAA,CAAA,KAAY;EACrC,IAAG,CAACZ,IAAI,EAAE,MAAME,QAAQ,CAAC,CAAC;EAC1B,OAAO,MAAMF,IAAI,CAACU,GAAG,CAACE,WAAW,CAAC,CAAC;AACrC,CAAC;AAED,OAAO,MAAMC,WAAW,GAAG,MAAAA,CAAA,KAAY;EACrC,IAAG,CAACZ,QAAQ,EAAE,MAAMC,QAAQ,CAAC,CAAC;EAC9B,OAAOD,QAAQ;AACjB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}